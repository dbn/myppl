define(["jquery","underscore","backbone","model/city","text!templates/home/homecitydettmpl.html","text!templates/feed/feedtmpl.html"],function(a,b,c,d,e,f){var g=c.View.extend({model:new d,template:b.template(e),feedTemplate:b.template(f),tagName:"div",className:"cityDetailed",initialize:function(){b.bindAll(this)},render:function(){if(!this.mod)return this;var b=this.mod.toJSON(),c=this.template(b);return a(this.el).html(c),this.renderNewsFeed(),this},renderNewsFeed:function(){if(!this.mod)return this;var b=this.mod.get("newsfeed");if(!b)return this;var c={entries:b.toJSON()},d=this.feedTemplate(c);return a(this.el).html(d),this},loadExcerpt:function(){this.mod.loadExcerpt()},setModel:function(a){this.mod&&(this.mod.unbind("change:website",this.render),this.mod.unbind("change:excerptText",this.render),this.mod.unbind("change:newsfeed",this.renderNewsFeed)),this.mod=a,this.mod.bind("change:website",this.render),this.mod.bind("change:excerptText",this.render),this.mod.bind("change:newsfeed",this.renderNewsFeed)}});return g})