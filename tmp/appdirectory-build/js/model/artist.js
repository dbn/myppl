define(["underscore","backbone"],function(a,b){var c=b.Model.extend({selected:!1,defaults:{name:"--NA--",icon:"--NA--",picture:"--NA--",excerptFile:"",website:"--NA--",cvurl:"--NA--",city:"--NA--",picturePath:"--NA--",iconPath:"--NA--",excerptText:"",excertLoaded:!1,selected:!1,cv:""},initialize:function(){a.bindAll(this),this.set({picturePath:this.getPicturePath()}),this.set({iconPath:this.getIconPath()}),this.set({cvPath:this.getCvPath()}),this.bind("change:picture",function(){this.set({picturePath:this.getPicturePath()})}),this.bind("change:icon",function(){this.set({iconPath:this.getIconPath()})}),this.bind("change:cv",function(){this.set({cvPath:this.getCvPath()})})},getPath:function(){return"data/"+this.get("city")+"/"+this.get("name")},getCvPath:function(){return(this.getPath()+"/"+this.get("cv")).toLowerCase()},getPicturePath:function(){return this.getPath()+"/"+this.get("picture")},getIconPath:function(){return this.getPath()+"/"+this.get("icon")},loadExcerpt:function(){if(this.get("excerptText").length>0)return;var a=this.get("excerptFile");if(!a||a.length==0){this.set("excerptText","");return}var b=this.getPath()+"/"+this.get("excerptFile"),c=this;$.get(b.toLowerCase()).success(function(a){c.set("excerptText",a)}).fail(function(){c.set("excerptText","No data available about this artist")})}});return c})