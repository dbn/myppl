define(["jquery","underscore","backbone","view/menu/menuitemview"],function(a,b,c,d){var e=c.View.extend({el:a("#menu"),activePageName:"home",itemViews:new(c.Collection.extend({model:d})),initialize:function(){b.bindAll(this)},render:function(){return this.clear(),this.addAll(),this},addOne:function(b){var c=new d({model:b});a(this.el).append(c.render().el)},addAll:function(){this.collection.each(this.addOne)},setActiveMenu:function(a){this.collection.each(function(b){var c=b.get("caption"),d=c==a;b.set({activeMenu:d})})},clear:function(){this.itemViews.reset(),this.itemViews.each(function(a){a.remove()})}});return e})